<script src="jspm_packages/system.js"></script>
<script src="config.js"></script>
<script>
	System.import('src/A').then(function(module) {
		var A = module.default;
		console.log(new A().value());

		System.delete('src/A');
		System.delete('src/B');
		System.register('src/A', ['src/B'], function _bar(_export) {
			'use strict';

			var B;

			function A() {
			}

			A.prototype.value = function() {
				return B.value;
			};

			return {
				setters: [function (m) {
					B = m.default;
				}],
				execute: function () {
					_export('default', A);
				}
			};
		});
		System.register('src/B', [], function _bar(_export) {
			'use strict';

			function B() {
			}
			B.value = 'alternate-value';

			return {
				setters: [function (m) {
				}],
				execute: function () {
					_export('default', B);
				}
			};
		});

		System.import('src/A').then(function(module) {
			var A = module.default;
			console.log(new A().value());
		});
	});
</script>
